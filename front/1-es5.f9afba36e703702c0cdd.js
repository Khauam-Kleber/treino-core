function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Buwi:function(e,t,i){"use strict";i.r(t);var n,r=i("ofXK"),a=i("tyNb"),s=i("0IaG"),o=i("3Pt+"),c=i("fXoL"),l=i("Y+0n"),u=((n=function(){function e(t,i,n,r){_classCallCheck(this,e),this.formBuilder=t,this.itensService=i,this.dialogRef=n,this.data=r,this.criarForm(),this.itensService.buscarListaFavoritos()}return _createClass(e,[{key:"criarForm",value:function(){this.form=this.formBuilder.group({quantity:[this.data.item.quantityPurchased,o.D.required],price:[this.data.item.pricePurchased,o.D.required]})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"saveQuantityPurchase",value:function(){this.data.item.quantityPurchased=this.form.get("quantity").value,this.data.item.pricePurchased=this.form.get("price").value,this.itensService.atualizarQuantidadeFavoritos(this.data.item),this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||n)(c["\u0275\u0275directiveInject"](o.f),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](s.h),c["\u0275\u0275directiveInject"](s.a))},n.\u0275cmp=c["\u0275\u0275defineComponent"]({type:n,selectors:[["skin-dialog"]],decls:10,vars:1,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","number","id","quantity","formControlName","quantity","placeholder","Quantity",1,"form-control"],["type","number","step","0.01","id","price","formControlName","price","placeholder","Price",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-4"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"p"),c["\u0275\u0275text"](2,"Coloque a Quantidade e Pre\xe7o da compra dos itens"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"form",1),c["\u0275\u0275listener"]("ngSubmit",(function(){return t.saveQuantityPurchase()})),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275element"](5,"input",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",2),c["\u0275\u0275element"](7,"input",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"button",5),c["\u0275\u0275text"](9," Salvar"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",t.form))},directives:[s.f,o.F,o.q,o.i,o.v,o.c,o.p,o.h],encapsulation:2}),n),d=i("ynNG"),m=i("AytR"),v=i("tk/3"),f=i("6Qg2"),p=i("5eHb"),h=function(){function e(t,i,n){_classCallCheck(this,e),this.httpClient=t,this.userService=i,this.toastr=n,this.listFavoritesUser=[],this.valorRendimentoTotal=0}return _createClass(e,[{key:"getItensMercadoSteam",value:function(e,t){return this.httpClient.get("https://steamfolio.com/api/Popular/sort?type=2&ascending=false&watchlist=false&searchTerm="+e+"&filterType="+t)}},{key:"getItensMercadoSteam2",value:function(e,t){return this.httpClient.get("".concat(m.a.apiUrl,"/skin-item/find-skins/list"),{params:{term:e,tipoItem:t}})}},{key:"getItemPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AK-47 | Redline (Field-Tested)";if("string"!=typeof e||0===e.length)throw new Error('The "market_hash_name" parameter is not a valid string or missing.');return this.httpClient.get("https://csgobackpack.net/api/GetItemPrice/?currency=BRL&id=".concat(e,"&time=7&icon=1"))}},{key:"adicionarOuRemoverFavoritos",value:function(e){var t=this,i=this.userService.userValue.data;if(this.listFavoritesUser.find((function(t){return t.id===e.id}))){var n=this.listFavoritesUser.findIndex((function(t){return t.id==e.id}));this.listFavoritesUser.splice(n,1)}else this.listFavoritesUser.length<=5?this.listFavoritesUser.push(new d.a(e)):this.toastr.error("Usamos API P\xfablicas gr\xe1tis que possuem limites de buscas :(","M\xe1ximo 6 Itens Favoritos",{positionClass:"toast-top-center"});i.steamItems=this.listFavoritesUser,this.userService.updateFavorites(i.id,i).subscribe((function(e){return t.buscarListaFavoritos()}))}},{key:"atualizarQuantidadeFavoritos",value:function(e){var t=this,i=this.userService.userValue.data,n=this.listFavoritesUser.findIndex((function(t){return t.id===e.id}));this.listFavoritesUser[n]=e,i.steamItems=this.listFavoritesUser,this.userService.updateFavorites(i.id,i).subscribe((function(e){return t.buscarListaFavoritos()}))}},{key:"buscarListaFavoritos",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.userService.getFavoritemsUser().subscribe((function(i){e.listFavoritesUser=i,t&&e.realTimePrice()}),(function(e){}))}},{key:"verificarFavoritos",value:function(e){return!this.listFavoritesUser||!this.listFavoritesUser.find((function(t){return t.id===e.id}))}},{key:"realTimePrice",value:function(){var e=this;this.valorRendimentoTotal=0,this.listFavoritesUser.forEach((function(t,i){e.getByName(t.name).subscribe((function(n){e.listFavoritesUser[i].lowest_price=n.lowest_price.replace(/[^0-9\.,]/g,"").replace(/,/g,"."),e.valorRendimentoTotal=e.valorRendimentoTotal+(parseFloat(e.listFavoritesUser[i].lowest_price)-t.pricePurchased)*t.quantityPurchased,e.listFavoritesUser[i].volume=n.volume}))}))}},{key:"getByName",value:function(e){return this.httpClient.get("".concat(m.a.apiUrl,"/skin-item/skin-price/").concat(e))}}]),e}();h.\u0275fac=function(e){return new(e||h)(c["\u0275\u0275inject"](v.b),c["\u0275\u0275inject"](f.a),c["\u0275\u0275inject"](p.c))},h.\u0275prov=c["\u0275\u0275defineInjectable"]({token:h,factory:h.\u0275fac,providedIn:"root"});var g=i("/n7v");function y(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h3",9),c["\u0275\u0275element"](1,"i",16),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"number"),c["\u0275\u0275elementEnd"]()),2&e){var i=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](3,1,(i.lowest_price-i.pricePurchased)*i.quantityPurchased,".2-2"))}}function b(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h3",9),c["\u0275\u0275element"](1,"i",16),c["\u0275\u0275text"](2,"N/A"),c["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e){var i=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",5),c["\u0275\u0275elementStart"](1,"app-card",6),c["\u0275\u0275listener"]("editItemEvent",(function(e){return c["\u0275\u0275restoreView"](i),c["\u0275\u0275nextContext"]().dialogEditItem(e)}))("removeItemEvent",(function(e){return c["\u0275\u0275restoreView"](i),c["\u0275\u0275nextContext"]().removeItemCard(e)})),c["\u0275\u0275elementStart"](2,"div",7),c["\u0275\u0275elementStart"](3,"div",8),c["\u0275\u0275elementStart"](4,"h3",9),c["\u0275\u0275element"](5,"i",10),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",11),c["\u0275\u0275elementStart"](8,"p",12),c["\u0275\u0275text"](9,"Pre\xe7o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",8),c["\u0275\u0275template"](11,y,4,4,"h3",13),c["\u0275\u0275template"](12,b,3,0,"h3",13),c["\u0275\u0275elementStart"](13,"div",11),c["\u0275\u0275elementStart"](14,"p",12),c["\u0275\u0275text"](15,"Lucro"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",8),c["\u0275\u0275elementStart"](17,"h3",9),c["\u0275\u0275element"](18,"i",14),c["\u0275\u0275text"](19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",15),c["\u0275\u0275elementStart"](21,"p",12),c["\u0275\u0275text"](22,"Volume 24h"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidHeader",!1)("cardTitle",n.name)("item",n),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](n.lowest_price),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",n.pricePurchased),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.pricePurchased),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](n.volume)}}var C,F,I=[{path:"",component:(C=function(){function e(t,i,n){_classCallCheck(this,e),this.itensService=t,this.route=i,this.dialog=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.itensService.buscarListaFavoritos(!0)}},{key:"removeItemCard",value:function(e){this.itensService.adicionarOuRemoverFavoritos(e)}},{key:"dialogEditItem",value:function(e){var t=this;this.dialog.open(u,{width:"250px",data:{item:e}}).afterClosed().subscribe((function(e){t.itensService.buscarListaFavoritos(!0)}))}}]),e}(),C.\u0275fac=function(e){return new(e||C)(c["\u0275\u0275directiveInject"](h),c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](s.b))},C.\u0275cmp=c["\u0275\u0275defineComponent"]({type:C,selectors:[["app-default"]],decls:7,vars:5,consts:[[1,"div-refresh"],[1,"feather","icon-refresh-cw","icon-refresh",3,"click"],[1,"mb-4","text-center","rendimento"],[1,"row"],["class","col-md-6 col-xl-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-xl-4"],[3,"hidHeader","cardTitle","item","editItemEvent","removeItemEvent"],[1,"column","d-flex","align-items-left"],[1,"col-4"],[1,"f-w-300","d-flex","align-items-center","m-b-0"],[1,"feather","icon-shopping-cart","text-c-blue","f-30","m-r-10"],[1,"col-8","text-left"],[1,"m-b-0"],["class","f-w-300 d-flex align-items-center m-b-0",4,"ngIf"],[1,"feather","icon-activity","text-c-red","f-30","m-r-10"],[1,"col-12","text-left"],[1,"feather","icon-target","text-c-green","f-30","m-r-10"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"i",1),c["\u0275\u0275listener"]("click",(function(){return t.itensService.buscarListaFavoritos(!0)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"h3",2),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"number"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275template"](6,S,23,7,"div",4),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("Rendimento Total: R$ ",c["\u0275\u0275pipeBind2"](4,2,t.itensService.valorRendimentoTotal,".2-2"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",t.itensService.listFavoritesUser))},directives:[r.NgForOf,g.a,r.NgIf],pipes:[r.DecimalPipe],styles:[".div-refresh[_ngcontent-%COMP%]{padding-bottom:10px}.icon-refresh[_ngcontent-%COMP%]{font-size:25px;color:#1de9bc;cursor:pointer}.rendimento[_ngcontent-%COMP%]{font-weight:bolder}"]}),C)}],k=((F=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=c["\u0275\u0275defineNgModule"]({type:F}),F.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||F)},imports:[[a.j.forChild(I)],a.j]}),F),x=i("ebz3");i.d(t,"DefaultModule",(function(){return w}));var E,w=((E=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=c["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||E)},imports:[[r.CommonModule,k,x.a]]}),E)}}]);